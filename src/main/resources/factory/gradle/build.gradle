buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }
  dependencies {
    classpath "com.netflix.nebula:gradle-extra-configurations-plugin:3.0.3"
    {{#buildDependencies}}
    classpath "{{this}}"
    {{/buildDependencies}}
  }
}

apply plugin: 'nebula.provided-base'
{{#plugins}}
apply plugin: '{{this}}'
{{/plugins}}


repositories {
  mavenLocal()
  mavenCentral()
}

group = '{{build.group}}'
description = '{{build.description}}'
{{#configurations}}{{#-first}}
configurations { {{/-first}}
    {{this}}{{#-last}}
} {{/-last}}{{/configurations}}

{{build.packaging}} {
  baseName = '{{build.artifact}}'
  version = '{{build.version}}'
}
{{#pluginConfigurations}}

test {
  testLogging.showStandardStreams = true
}

{{key}} {
  {{#value}}
  {{key}} {{value}}
  {{/value}}
}
{{/pluginConfigurations}}

sourceCompatibility = {{build.javaVersion}}
targetCompatibility = {{build.javaVersion}}

repositories {
  mavenCentral()
}

dependencies {
  {{#dependencies}}
  {{scope}} group: '{{group}}', name: '{{artifact}}', version: '{{version}}'{{#type}}, ext: '{{type}}'{{/type}}{{#classifier}}, classifier: '{{classifier}}'{{/classifier}}
  {{/dependencies}}
}
